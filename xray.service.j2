[Unit]
Description=XRay Proxy service (https://github.com/XTLS/Xray-core)
Wants=network.target
After=network.target


[Service]
Type=idle
User={{ os_user }}
WorkingDirectory=/home/{{ os_user }}
ExecStart=/home/{{ os_user }}/xray run -c /home/{{ os_user }}/config.json
CapabilityBoundingSet=CAP_NET_ADMIN CAP_NET_BIND_SERVICE
AmbientCapabilities=CAP_NET_ADMIN CAP_NET_BIND_SERVICE
NoNewPrivileges=true
LimitNPROC=10000
LimitNOFILE=1000000
Restart=always
RestartSec=60


[Install]
WantedBy=multi-user.target
